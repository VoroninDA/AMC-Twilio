<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>AMC Twilio SoftPhone Interface</title>
	<link href="/styles/default.css" rel="stylesheet" type="text/css">
	<link href="/styles/bootstrap.css" rel="stylesheet" type="text/css">
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
</head>
<body data-ng-init="init()">
	<div class="panel panel-default ui-warning">
		{{UI.warning.browser}}
	</div>
	<div class="panel panel-default ui-warning">
		{{UI.warning.worker}}
	</div>
	<div class="container" style="width:100%">
      <section class="phone-controller">
          <input name="phoneNumber" placeholder="+.." style="font-size:2em; padding-left:10px;" type="text">
          <div class="phone-number" style="font-size:2em; padding-left:10px">
            {{phoneNumber}}
          </div>
          <div class="keypad">
            <div class="digit">
              1
            </div>
            <div class="digit">
              2
            </div>
            <div class="digit">
              3
            </div>
            <div class="digit">
              4
            </div>
            <div class="digit">
              5
            </div>
            <div class="digit">
              6
            </div>
            <div class="digit">
              7
            </div>
            <div class="digit">
              8
            </div>
            <div class="digit">
              9
            </div>
            <div class="digit">
              *
            </div>
            <div class="digit">
              0
            </div>
            <div class="digit">
              #
            </div>
          </div><!--<button class="button-call" ng-if="isActive == false" ng-click="call(phoneNumber)">CALL</button>-->
          <button class="button-hangup">HANGUP</button> <span class="status">Status: {{status}}</span> <span class="status">Error: {{error}}</span>
        </section>
		<section class="workflow-controller">
			<div class="panel panel-default">
				<div class="panel-body">
					<!--<div class="logout"><span ng-click="logout()">logout</span></div> 
        <h3 class="name" class="page-header">{{worker.friendlyName}}&#39;s Call Agent Interface</h3>-->
					<!-- <div>Status:&nbsp;<span style="font-size:1em" ng-class="{'label-success': worker.activityName == 'Idle', 'label-danger': worker.activityName == 'Busy', 'label-default': worker.activityName == 'Offline', 'label-warning': worker.activityName == 'Reserved'}" class="label">{{worker.activityName}}</span></div> -->
					<div class="reservations">
						<!-- reservation is waiting for acceptance -->
						<div class="panel panel-default agent-reservation">
							<div class="panel-heading">
								<h3 class="panel-title">Reservation</h3>
							</div>
							<div class="panel-body" style="overflow-x:hidden;">
								<table>
									<tr>
										<td>
											<div class="title">
												{{reservation.task.attributes.title}} from<br>
												{{reservation.task.attributes.name}}
											</div>
											<div class="timer">
												created {{ reservationCounter | TaskWaitingTime }} ago
											</div>
											<table>
												<tr>
													<td>
														<div class="accept-panel">
															<button>Accept</button>
														</div>
													</td>
													<td>
														<div class="accept-panel" id="DTMFButton">
															<button>DTMF</button>
														</div>
													</td>
												</tr>
											</table>
										</td>
									</tr>
								</table>
							</div>
						</div><!-- reservation is waiting for acceptance -->
						<!-- agent is waiting for new reservation -->
						<div class="panel panel-default agent-waiting">
							<div class="panel-heading">
								<h4 class="panel-title">Waiting for new task ...</h4>
							</div>
						</div><!-- agent is waiting for new reservation -->
						<!-- agent is working on a task -->
						<div class="panel panel-default agent-task">
							<div class="panel-heading">
								<button class="btn btn-primary complete-task">Complete Task</button>
							</div>
							<div class="panel-body">
								<div class="description">
									{{task.attributes.title}} from <span>{{task.attributes.name}}</span> <a href="#">{{task.attributes.name}}</a>
								</div>{{task.attributes.text}}
							</div><!-- video -->
							<section class="agent-video-canvas" id="remote-media"></section><!-- video -->
							<!-- chat -->
							<section class="chat-controller">
								<div class="load-indicator">
									<i class="fa fa-refresh fa-spin"></i>
								</div>
								<div>
									<div class="chat-canvas">
										<ul class="message-list">
											<li class="message">
												<div>
													<div class="body">
														<div class="needle"></div>
														<p>{{message.body}}</p>
													</div>
													<div class="footer">
														<div class="author">
															{{message.author}}
														</div>
														<div class="time">
															<i aria-hidden="true" class="fa fa-clock-o"></i>&nbsp;{{message.timestamp | time}}
														</div>
													</div>
												</div>
											</li>
										</ul>
										<div id="bottom"></div>
									</div>
									<div class="typing-notification">
										<span>{{typingNotification}}</span>
									</div>
									<form class="chat-message-form form-horizontal" id="chatMessageForm" name="chatMessageForm">
										<div class="form-group">
											<div class="col-xs-11">
												<input autocomplete="off" class="form-control" name="text" placeholder="say something" type="text">
											</div>
											<div style="display : none;">
												<button class="btn btn-primary">Send</button>
											</div>
										</div>
									</form>
								</div>
							</section><!-- chat -->
						</div><!-- agent is working on a task -->
					</div>
				</div>
			</div>
		</section>
		<section class="phone-controller">
			<input name="phoneNumber" placeholder="+.." style="font-size:2em; padding-left:10px;" type="text">
			<div class="phone-number" style="font-size:2em; padding-left:10px">
				{{phoneNumber}}
			</div>
			<div class="keypad">
				<div class="digit">
					1
				</div>
				<div class="digit">
					2
				</div>
				<div class="digit">
					3
				</div>
				<div class="digit">
					4
				</div>
				<div class="digit">
					5
				</div>
				<div class="digit">
					6
				</div>
				<div class="digit">
					7
				</div>
				<div class="digit">
					8
				</div>
				<div class="digit">
					9
				</div>
				<div class="digit">
					*
				</div>
				<div class="digit">
					0
				</div>
				<div class="digit">
					#
				</div>
			</div><!--<button class="button-call" ng-if="isActive == false" ng-click="call(phoneNumber)">CALL</button>-->
			<button class="button-hangup">HANGUP</button> <span class="status">Status: {{status}}</span> <span class="status">Error: {{error}}</span>
		</section>
	</div>
	<script src="//media.twiliocdn.com/sdk/js/client/v1.4/twilio.min.js" type="text/javascript">
	</script> 
	<script src="//media.twiliocdn.com/taskrouter/js/v1.10/taskrouter.min.js" type="text/javascript">
	</script> 
	<script src="https://media.twiliocdn.com/sdk/js/common/v0.1/twilio-common.min.js">
	</script> 
	<script src="https://media.twiliocdn.com/sdk/js/chat/v1.2/twilio-chat.min.js">
	</script> 
	<script src="//media.twiliocdn.com/sdk/js/video/v1/twilio-video.min.js">
	</script> 
	<script src="/scripts/angular.min.js">
	</script> 
	<script src="/scripts/angular-messages.min.js">
	</script> 
	<script src="/scripts/angular-scrollglue.js">
	</script> 
	<script src="/scripts/moment.min.js">
	</script> 
	<script src="WorkflowController.js">
	</script> 
	<script src="PhoneController.js">
	</script> 
	<script src="ChatController.js">
	</script> 
	<script src="VideoController.js">
	</script> 
	<script src="/scripts/directives/TaskWaitingTimeFilter.js">
	</script> <!-- AMC CODE BELOW -->
	 
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js">
	</script> 
	<script src="https://code.jquery.com/jquery-1.11.1.min.js">
	</script> 
	<script src="https://code.jquery.com/ui/1.11.1/jquery-ui.min.js">
	</script> 
	<script src="https://contactcanvascloudframework.azurewebsites.net/Scripts/bundles/AMCChannelPluginAPI.js" type="text/javascript">
	</script> 
	<script src="/callcenter/AMC/AMCTracer.js">
	</script> 
	<script src="/callcenter/AMC/TwilioPlugin.js">
	</script> <!-- <script src="/callcenter/AMC/LoginEvents.js"></script>
  <script src="/callcenter/AMC/CallCounterMethods.js"></script>
  <script src="/callcenter/AMC/CallbackMethods.js"></script>
  <script src="/callcenter/AMC/StateMethods.js"></script>
  <script src="/callcenter/AMC/LocalStorageHelpers.js"></script>
  <script src="/callcenter/AMC/ButtonEvents.js"></script>-->
	 
	<script src="/callcenter/AMC/Helper.js">
	</script> <!--PUT THE AMC Integration code scripts up there-->
</body>
</html>